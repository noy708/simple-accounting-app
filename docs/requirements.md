# Requirements Document

## Introduction

超シンプルな会計アプリケーションの開発。主な機能は取引の入力と表示に限定し、迅速な開発と最小限のテストで実用的なアプリケーションを構築する。ユーザーが日々の収入・支出を簡単に記録できることを目的とする。

## Requirements

### Requirement 1

**User Story:** ユーザーとして、収入や支出の取引を入力したい。そうすることで、日々のお金の流れを記録できる。

#### Acceptance Criteria

1. WHEN ユーザーが取引入力フォームにアクセスする THEN システムは金額、説明、取引タイプ（収入/支出）、日付の入力フィールドを表示する
2. WHEN ユーザーが有効な取引データを入力して送信する THEN システムは取引を保存し、成功メッセージを表示する
3. WHEN ユーザーが必須フィールドを空白のまま送信する THEN システムはエラーメッセージを表示し、送信を拒否する
4. WHEN ユーザーが無効な金額（負の数値や文字列）を入力する THEN システムはバリデーションエラーを表示する

### Requirement 2

**User Story:** ユーザーとして、入力した取引の一覧を確認したい。そうすることで、これまでの取引履歴を把握できる。

#### Acceptance Criteria

1. WHEN ユーザーが取引一覧ページにアクセスする THEN システムは保存された全ての取引を日付順（新しい順）で表示する
2. WHEN 取引が存在しない場合 THEN システムは「取引がありません」というメッセージを表示する
3. WHEN 取引一覧が表示される THEN 各取引は日付、説明、金額、取引タイプを含む
4. WHEN 収入の取引が表示される THEN 金額は緑色で表示される
5. WHEN 支出の取引が表示される THEN 金額は赤色で表示される

### Requirement 3

**User Story:** ユーザーとして、現在の残高を確認したい。そうすることで、財政状況を把握できる。

#### Acceptance Criteria

1. WHEN ユーザーがアプリにアクセスする THEN システムは現在の残高（収入の合計 - 支出の合計）を表示する
2. WHEN 残高がプラスの場合 THEN 残高は緑色で表示される
3. WHEN 残高がマイナスの場合 THEN 残高は赤色で表示される
4. WHEN 新しい取引が追加される THEN 残高は自動的に更新される

### Requirement 4

**User Story:** ユーザーとして、シンプルで直感的なインターフェースを使いたい。そうすることで、迅速に取引を入力できる。

#### Acceptance Criteria

1. WHEN ユーザーがアプリにアクセスする THEN システムはクリーンで分かりやすいレイアウトを表示する
2. WHEN ユーザーが取引入力フォームを使用する THEN フォームは最小限の必須フィールドのみを含む
3. WHEN ユーザーがモバイルデバイスでアクセスする THEN インターフェースはレスポンシブデザインで適切に表示される
4. WHEN ユーザーが取引を送信する THEN フォームは自動的にクリアされ、次の入力の準備ができる

### Requirement 5

**User Story:** ユーザーとして、仕訳帳をPDF形式でダウンロードしたい。そうすることで、取引履歴を印刷したり、外部で保管・共有できる。

#### Acceptance Criteria

1. WHEN ユーザーが「PDF生成」ボタンをクリックする THEN システムは現在の全取引データを含むPDFファイルを生成する
2. WHEN PDFが生成される THEN ファイルには日付、説明、金額、取引タイプが適切にフォーマットされて含まれる
3. WHEN PDFが生成される THEN ファイル名は「仕訳帳_YYYY-MM-DD.pdf」の形式で自動設定される
4. WHEN PDFが生成される THEN ブラウザの標準ダウンロード機能でファイルがダウンロードされる
5. WHEN 取引データが存在しない場合 THEN システムは「取引データがありません」というメッセージを含むPDFを生成する
6. WHEN PDF生成中にエラーが発生した場合 THEN システムは適切なエラーメッセージを表示する
7. WHEN PDFが生成される THEN 取引は日付順（古い順）で表示され、最後に合計残高が表示される